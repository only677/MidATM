<!DOCTYPE html>
<html xmlns: xmlns: xmlns:>
<head lang="ch-ZN">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>中秋快乐！--来自刘琪琪的问候</title>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0'/>
    <link rel="stylesheet" href="css/swiper.min.css">
    <link rel="stylesheet" href="css/animate.min.css">
    <link rel="stylesheet" href="css/reset-zhongqiujie.css">
    <link rel="stylesheet" href="css/bg_music.css">
    <script src="js/jquery-3.2.1.min.js"></script>
    <script src="js/swiper.min.js"></script>
    <script src="js/swiper.animate.min.js"></script>

</head>

<body style="background-image:url(images/background.png);background-size: cover;background-repeat: no-repeat">
    <div style="display: none;">
        <img src="images/logo.png">
    </div>
    <div class="swiper-container">
        <div class="swiper-wrapper">
            <!--//每个section为一个页面，内容写在section内部就可以了（比如动画那些）-->
            <!-------------slide1----------------->
            <section class="swiper-slide swiper-slide1">
                <!--月亮-->
                <img src="images/page1/moon.png" class="ani"
                     style="height: 100%;position: fixed;bottom: 0;left: 0;"
                     swiper-animate-effect="pulse" swiper-animate-duration="10s" swiper-animate-delay="0s">
                <!--风铃-->
                <img src="images/page1/bell.png" class="ani"
                     style="height:30%;position:fixed;left: 20px;top: 0px;z-index: 99;"
                     swiper-animate-effect="swing" swiper-animate-duration="30s" swiper-animate-delay="0s">
                <!--中秋logo-->
                <img src="images/page1/word.png" class="ani"
                     style="height:10%;position:fixed;right: 15px;bottom: 20px;z-index: 99;"
                     swiper-animate-effect="fadeIn" swiper-animate-duration="2.5s" swiper-animate-delay="5s">
                <!--花-->
                <img src="images/page1/hua.png" class="ani"
                     style="height:25%;position:fixed;left: 15%;top: 30px;z-index: 99999;"
                     swiper-animate-effect="fadeIn" swiper-animate-duration="3s" swiper-animate-delay="1s">
                <!--好-->
                <img src="images/page1/hao.png" class="ani"
                     style="height:15%;position:fixed;right: 15%;top: 110px;z-index: 999999;"
                     swiper-animate-effect="fadeIn" swiper-animate-duration="3s" swiper-animate-delay="2s">
                <!--月-->
                <img src="images/page1/yue.png" class="ani"
                     style="height:25%;position:fixed;left: 20%;top: 200px;z-index: 999999;"
                     swiper-animate-effect="bounceInDown" swiper-animate-duration="3s" swiper-animate-delay="3s">
                <!--圆-->
                <img src="images/page1/yuan.png" class="ani"
                     style="height:18%;position:fixed;right: 20%;top:280px;z-index: 999999;"
                     swiper-animate-effect="fadeIn" swiper-animate-duration="3s" swiper-animate-delay="4s">
            </section>
            <!-------------slide2----------------->
            <section class="swiper-slide swiper-slide2">
                <!--风铃-->
                <img src="images/page2/bell.png" class="ani"
                     style="height:30%;position:fixed;right: 20px;top: 0px;z-index: 99;"
                     swiper-animate-effect="swing" swiper-animate-duration="30s" swiper-animate-delay="0s">
                <!--中秋logo-->
                <img src="images/page2/word.png" class="ani"
                     style="height:10%;position:fixed;left: 40px;top: 30px;z-index: 99;"
                     swiper-animate-effect="fadeIn" swiper-animate-duration="2.5s" swiper-animate-delay="9.5s">
                <!--1-->
                <img src="images/page2/1.png" class="ani"
                     style="width:15%;position:fixed;right: 15%;top: 25%;z-index: 99999;"
                     swiper-animate-effect="fadeIn" swiper-animate-duration="3s" swiper-animate-delay="1s">
                <!--2-->
                <img src="images/page2/2.png" class="ani"
                     style="width:25%;position:fixed;right: 27%;top: 25%;z-index: 99999;"
                     swiper-animate-effect="fadeIn" swiper-animate-duration="3s" swiper-animate-delay="3.5s">
                <!--3-->
                <img src="images/page2/3.png" class="ani"
                     style="width:20%;position:fixed;left: 32%;top: 25%;z-index: 99999;"
                     swiper-animate-effect="fadeIn" swiper-animate-duration="3s" swiper-animate-delay="5.5s">
                <!--4-->
                <img src="images/page2/4.png" class="ani"
                     style="width:20%;position:fixed;left: 15%;top: 25%;z-index: 99999;"
                     swiper-animate-effect="fadeIn" swiper-animate-duration="3s" swiper-animate-delay="7.5s">
                <!--wave-->
                <div class="wave-box-upon ani" style="" swiper-animate-delay="0s">
                    <div class="wave-box">
                        <div class="marquee-box-d" id="marquee-box-1" >
                            <div class="marquee">
                                <div class="wave-list-box" id="wave-list-box-1">
                                    <ul>
                                        <li><img height="60px" alt="波浪" src="images/page2/wave2.png"></li>
                                    </ul>
                                </div>
                                <div class="wave-list-box" id="wave-list-box-2">
                                    <ul>
                                        <li><img height="60px" alt="波浪" src="images/page2/wave2.png"></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="marquee-box" id="marquee-box-2">
                            <div class="marquee">
                                <div class="wave-list-box" id="wave-list-box-3">
                                    <ul>
                                        <li><img height="60px" alt="波浪" src="images/page2/wave1.png"></li>
                                    </ul>
                                </div>
                                <div class="wave-list-box" id="wave-list-box-4">
                                    <ul>
                                        <li><img height="60px" alt="波浪" src="images/page2/wave1.png"></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <!-------------slide3----------------->
            <section class="swiper-slide swiper-slide3">
                <!--wave-->
                <div class="wave-box-upon ani" style="" swiper-animate-delay="0s">
                    <div class="wave-box">
                        <div class="marquee-box-d" id="marquee-box-3" >
                            <div class="marquee">
                                <div class="wave-list-box" id="wave-list-box-5">
                                    <ul>
                                        <li><img height="80px" alt="波浪" src="images/page3/wave1.png"></li>
                                    </ul>
                                </div>
                                <div class="wave-list-box" id="wave-list-box-6">
                                    <ul>
                                        <li><img height="80px" alt="波浪" src="images/page3/wave1.png"></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="marquee-box" id="marquee-box-4">
                            <div class="marquee">
                                <div class="wave-list-box" id="wave-list-box-7">
                                    <ul>
                                        <li><img height="60px" alt="波浪" src="images/page3/wave1.png"></li>
                                    </ul>
                                </div>
                                <div class="wave-list-box" id="wave-list-box-8">
                                    <ul>
                                        <li><img height="60px" alt="波浪" src="images/page3/wave1.png"></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--中秋logo-->
                <img src="images/page3/word.png" class="ani"
                     style="height:10%;position:fixed;right: 40px;top: 30px;z-index: 99;"
                     swiper-animate-effect="fadeIn" swiper-animate-duration="2.5s" swiper-animate-delay="10s">
                <!--风铃-->
                <img src="images/page2/bell.png" class="ani"
                     style="height:30%;position:fixed;left: 20px;top: 0px;z-index: 99;"
                     swiper-animate-effect="swing" swiper-animate-duration="30s" swiper-animate-delay="0s">
                <!--云1-->
                <img src="images/page3/cloud1.png" class="ani"
                     style="height:3%;position:fixed;left: 30%;top: 27%;z-index: 999;"
                     swiper-animate-effect="slideInLeft" swiper-animate-duration="9s" swiper-animate-delay="2s">
                <!--云2-->
                <img src="images/page3/cloud2.png" class="ani"
                     style="height:9%;position:fixed;left: 20%;top: 60%;z-index: 999;"
                     swiper-animate-effect="slideInRight" swiper-animate-duration="10s" swiper-animate-delay="1s">
                <!--云3-->
                <img src="images/page3/cloud3.png" class="ani"
                     style="height:7%;position:fixed;right: 25%;bottom: 20%;z-index: 999;"
                     swiper-animate-effect="slideInLeft" swiper-animate-duration="12s" swiper-animate-delay="0s">
                <!--1-->
                <img src="images/page3/1.png" class="ani"
                     style="width:20%;position:fixed;right: 15%;top: 30%;z-index: 99999;"
                     swiper-animate-effect="fadeIn" swiper-animate-duration="4s" swiper-animate-delay="0s">
                <!--2-->
                <img src="images/page3/2.png" class="ani"
                     style="width:22%;position:fixed;right: 38%;top: 30%;z-index: 99999;"
                     swiper-animate-effect="fadeIn" swiper-animate-duration="4s" swiper-animate-delay="4s">
                <!--3-->
                <img src="images/page3/3.png" class="ani"
                     style="width:23%;position:fixed;left: 15%;top: 31%;z-index: 99999;"
                     swiper-animate-effect="fadeIn" swiper-animate-duration="4s" swiper-animate-delay="8s">

            </section>
            <!-------------slide4----------------->
            <section class="swiper-slide swiper-slide4">
                <!--wave-->
                <div class="wave-box-upon ani" style="" swiper-animate-delay="0s">
                    <div class="wave-box">
                        <div class="marquee-box" id="marquee-box-7">
                            <div class="marquee">
                                <div class="wave-list-box" id="wave-list-box-11">
                                    <ul>
                                        <li><img height="60px" alt="波浪" src="images/page4/wave.png"></li>
                                    </ul>
                                </div>
                                <div class="wave-list-box" id="wave-list-box-12">
                                    <ul>
                                        <li><img height="60px" alt="波浪" src="images/page4/wave.png"></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--build-->
                <img src="images/page4/build.png" class="ani"
                     style="width: 100%;position: fixed;bottom: 15px;left: 0;"
                     swiper-animate-effect="wobble" swiper-animate-duration="10s" swiper-animate-delay="0s">
                <!--灯笼-->
                <img src="images/page4/lantern.png" class="ani"
                     style="height:30%;position:fixed;right: -15px;top: -5px;z-index: 99;"
                     swiper-animate-effect="swing" swiper-animate-duration="30s" swiper-animate-delay="0s">

                <!--中秋logo-->
                <img src="images/page4/word.png" class="ani"
                     style="height:10%;position:fixed;left: 40px;top: 30px;z-index: 99;"
                     swiper-animate-effect="fadeIn" swiper-animate-duration="2.5s" swiper-animate-delay="5s">
                <!--云1-->
                <img src="images/page4/cloud1.png" class="ani"
                     style="height:3%;position:fixed;left: 30%;top: 27%;z-index: 999;"
                     swiper-animate-effect="slideInLeft" swiper-animate-duration="9s" swiper-animate-delay="2s">
                <!--云2-->
                <img src="images/page4/cloud2.png" class="ani"
                     style="height:9%;position:fixed;left: 20%;top: 60%;z-index: 999;"
                     swiper-animate-effect="slideInRight" swiper-animate-duration="10s" swiper-animate-delay="1s">
                <!--云3-->
                <img src="images/page4/cloud3.png" class="ani"
                     style="height:7%;position:fixed;right: 25%;bottom: 10%;z-index: 999;"
                     swiper-animate-effect="slideInLeft" swiper-animate-duration="12s" swiper-animate-delay="0s">
                <!--中秋快乐-->
                <img src="images/page4/1.png" class="ani"
                     style="width: 90%;position:fixed;right: 5%;top: 30%;z-index: 9999;"
                     swiper-animate-effect="zoomIn" swiper-animate-duration="5s" swiper-animate-delay="0s">
                <!--d-->
                <img src="images/page4/q.jpg" class="ani"
                     style="width: 35%;position:fixed;right: 10%;bottom: 20%;z-index: 9999;"
                     swiper-animate-effect="zoomIn" swiper-animate-duration="5s" swiper-animate-delay="3s">

            </section>


        </div>
        <img src="images/arrow.png" style="width:20px;height:15px; top:460px; left:150px;" id="array" class="resize">
        <div class="swiper-pagination"></div>
    </div>
    <span id="musicControl">
        <a id="mc_play" class="on" onclick="play_music();">
            <audio id="musicfx" loop autoplay>
                <source src="music/background_music.mp3" type="audio/mpeg">
            </audio>
        </a>
    </span>
    <script>
        scaleW=window.innerWidth/320;
        scaleH=window.innerHeight/480;
        var resizes = document.querySelectorAll('.resize');
                  for (var j=0; j<resizes.length; j++) {
                   resizes[j].style.width=parseInt(resizes[j].style.width)*scaleW+'px';
                   resizes[j].style.height=parseInt(resizes[j].style.height)*scaleH+'px';
                   resizes[j].style.top=parseInt(resizes[j].style.top)*scaleH+'px';
                   resizes[j].style.left=parseInt(resizes[j].style.left)*scaleW+'px';
                  }
        var mySwiper = new Swiper ('.swiper-container', {
           direction : 'vertical',

           pagination: '.swiper-pagination',
          //virtualTranslate : true,
           mousewheelControl : true,
           onInit: function(swiper){
           swiperAnimateCache(swiper);
           swiperAnimate(swiper);
              },
           onSlideChangeEnd: function(swiper){
            swiperAnimate(swiper);
            },
            onTransitionEnd: function(swiper){
            swiperAnimate(swiper);
            },

            watchSlidesProgress: true,

              onProgress: function(swiper){
                for (var i = 0; i < swiper.slides.length; i++){
                  var slide = swiper.slides[i];
                  var progress = slide.progress;
                  var translate = progress*swiper.height/4;
                  scale = 1 - Math.min(Math.abs(progress * 0.5), 1);
                  var opacity = 1 - Math.min(Math.abs(progress/2),0.5);
                  slide.style.opacity = opacity;
                  es = slide.style;
                  es.webkitTransform = es.MsTransform = es.msTransform = es.MozTransform = es.OTransform = es.transform = 'translate3d(0,'+translate+'px,-'+translate+'px) scaleY(' + scale + ')';

                }
              },

               onSetTransition: function(swiper, speed) {
                for (var i = 0; i < swiper.slides.length; i++){
                  es = swiper.slides[i].style;
                  es.webkitTransitionDuration = es.MsTransitionDuration = es.msTransitionDuration = es.MozTransitionDuration = es.OTransitionDuration = es.transitionDuration = speed + 'ms';

                }
               }
        });

        var canvas = document.getElementById('canvas');
        var ctx = canvas.getContext('2d');
        canvas.width = canvas.parentNode.offsetWidth;
        canvas.height = canvas.parentNode.offsetHeight;
        window.requestAnimFrame = (function(){
            return window.requestAnimationFrame ||
                window.webkitRequestAnimationFrame ||
                window.mozRequestAnimationFrame ||
                function( callback ){
                    window.setTimeout(callback, 1000 / 60);
                };
        })();
        var step = 0;
        function loop(){
            ctx.clearRect(0,0,canvas.width,canvas.height);
            //绘制矩形
            ctx.fillStyle = "rgba(0,222,255, 0.2)";
            //角度增加一度
            step++;
            //角度转换成弧度
            var angle = step*Math.PI/180;
            //矩形高度的变化量
            var deltaHeight = Math.sin(angle) * 50;
            ctx.beginPath();
            //在矩形的左上与右上两个顶点加上高度变化量
            ctx.moveTo(0, canvas.height/1.1+deltaHeight);
            ctx.lineTo(canvas.width, canvas.height/1.3+deltaHeight);
            ctx.lineTo(canvas.width, canvas.height);
            ctx.lineTo(0, canvas.height);
            ctx.lineTo(0, canvas.height/1.1+deltaHeight);
            ctx.closePath();
            ctx.fill();
            requestAnimFrame(loop);
        }
        loop();
    </script>
    <script>
        var mySwiper = new Swiper ('.swiper-container', {
            onInit: function(swiper){ //Swiper2.x的初始化是onFirstInit
                swiperAnimateCache(swiper); //隐藏动画元素
                swiperAnimate(swiper); //初始化完成开始动画
            },
            onSlideChangeEnd: function(swiper){
                swiperAnimate(swiper); //每个slide切换结束时也运行当前slide动画
            }
        })
    </script>
    <script>
        function play_music(){
            if ($('#mc_play').hasClass('on')){
                $('#mc_play audio').get(0).pause();
                $('#mc_play').attr('class','stop');
            }else{
                $('#mc_play audio').get(0).play();
                $('#mc_play').attr('class','on');
            }
            $('#music_play_filter').hide();
            event.stopPropagation(); //阻止冒泡
        }
        function just_play(id){
            $('#mc_play audio').get(0).play();
            $('#mc_play').attr('class','on');
            if (typeof(id)!='undefined'){
                $('#music_play_filter').hide();
            }
            event.stopPropagation(); //阻止冒泡
        }
        var play_filter=document.getElementById('music_play_filter');
        play_filter.addEventListener('click', function(){
            just_play(1);
        });
        play_filter.addEventListener('touchstart', function(){
            just_play(1);
        });
        play_filter.addEventListener('touchend', function(){
            just_play(1);
        });
        play_filter.addEventListener('touchmove', function(){
            just_play(1);
        });
        play_filter.addEventListener('mousedown', function(){
            just_play(1);
        });
        play_filter.addEventListener('mouseup', function(){
            just_play(1);
        });
        play_filter.addEventListener('mousemove',function(){
            just_play(1);
        });
        window.onload=function(){
            just_play();
        }
    </script>
    <script>
        //波浪动画
        $(function () {
            var marqueeScroll = function (id1, id2, id3, timer) {
                var $parent = $("#" + id1);
                var $goal = $("#" + id2);
                var $closegoal = $("#" + id3);
                $closegoal.html($goal.html());
                function Marquee() {
                    if (parseInt($parent.scrollLeft()) - $closegoal.width() >= 0) {
                        $parent.scrollLeft(parseInt($parent.scrollLeft()) - $goal.width());
                    }
                    else {
                        $parent.scrollLeft($parent.scrollLeft() + 1);
                    }
                }
                setInterval(Marquee, timer);
            };
            var marqueeScroll1 = new marqueeScroll("marquee-box-1", "wave-list-box-1", "wave-list-box-2", 40);
            var marqueeScroll2 = new marqueeScroll("marquee-box-2", "wave-list-box-3", "wave-list-box-4", 60);
            var marqueeScroll3 = new marqueeScroll("marquee-box-3", "wave-list-box-5", "wave-list-box-6", 40);
            var marqueeScroll4 = new marqueeScroll("marquee-box-4", "wave-list-box-7", "wave-list-box-8", 60);
            var marqueeScroll5 = new marqueeScroll("marquee-box-7", "wave-list-box-11", "wave-list-box-12", 60);
        });
    </script>

</body>
</html>
